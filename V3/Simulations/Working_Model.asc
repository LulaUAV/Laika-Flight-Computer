Version 4
SHEET 1 2348 1060
WIRE -1088 -512 -1088 -544
WIRE -1200 -496 -1200 -544
WIRE -480 -448 -480 -512
WIRE -352 -448 -480 -448
WIRE -240 -448 -352 -448
WIRE -160 -448 -240 -448
WIRE 128 -448 -64 -448
WIRE -240 -432 -240 -448
WIRE -1200 -400 -1200 -416
WIRE -1088 -400 -1088 -432
WIRE -832 -400 -1088 -400
WIRE -1088 -384 -1088 -400
WIRE -144 -368 -144 -400
WIRE -144 -368 -240 -368
WIRE -1088 -272 -1088 -304
WIRE -832 -224 -832 -400
WIRE -720 -224 -832 -224
WIRE -1088 -160 -1088 -192
WIRE -1200 -144 -1200 -192
WIRE -1200 -48 -1200 -64
WIRE -1088 -48 -1088 -80
WIRE -832 -48 -1088 -48
WIRE 144 -48 -16 -48
WIRE 272 -48 144 -48
WIRE -1088 -32 -1088 -48
WIRE 144 16 144 -48
WIRE -1088 80 -1088 48
WIRE -16 144 -16 -48
WIRE -48 160 -160 160
WIRE 272 160 272 -48
WIRE 272 160 224 160
WIRE 96 176 16 176
WIRE 144 176 144 96
WIRE 144 176 96 176
WIRE 176 176 144 176
WIRE -48 192 -144 192
WIRE -1088 272 -1088 240
WIRE -1088 384 -1088 352
WIRE -1024 384 -1088 384
WIRE -1088 400 -1088 384
WIRE -16 432 -16 208
WIRE -1088 512 -1088 464
WIRE 224 672 224 256
WIRE 272 672 224 672
WIRE 272 752 272 672
WIRE -80 768 -192 768
WIRE 32 768 -80 768
WIRE 224 768 32 768
WIRE -192 784 -192 768
WIRE 32 784 32 768
WIRE -80 800 -80 768
WIRE -192 896 -192 864
WIRE -80 896 -80 880
WIRE 32 896 32 848
WIRE 272 896 272 848
WIRE 272 896 32 896
WIRE 416 896 272 896
WIRE 624 896 416 896
WIRE 1136 896 880 896
WIRE 1136 928 1136 896
WIRE 416 992 416 960
WIRE 752 1040 752 992
WIRE 1136 1040 1136 1008
FLAG 96 176 Vo
FLAG -160 160 Vn
FLAG -144 192 Vp
FLAG -1200 -48 0
FLAG -1200 -192 2s
FLAG -1088 512 0
FLAG -720 -224 Vn
FLAG -1088 -192 2s
FLAG -1024 384 Vp
FLAG -1088 80 0
FLAG -16 432 0
FLAG 144 -48 Vprotected
FLAG -1200 -400 0
FLAG -1200 -544 3s
FLAG -1088 -544 3s
FLAG -1088 -272 0
FLAG 128 -448 Vbatt
FLAG -480 -512 3s
FLAG -480 -400 2s
FLAG -80 896 0
FLAG 416 992 0
FLAG 752 1040 0
FLAG 1136 1040 0
FLAG -144 -288 0
FLAG -192 896 0
FLAG -352 -448 Vprotected
FLAG -1088 240 Vprotected
SYMBOL OpAmps\\opamp2 -16 112 R0
SYMATTR InstName U1
SYMATTR Value LM2903B
SYMBOL pmos 176 256 M180
SYMATTR InstName M1
SYMATTR Value Si2301CDS
SYMATTR Prefix x
SYMATTR SpiceModel Si2301CDS
SYMBOL voltage -1200 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -336 160 Left 2
SYMATTR Value PULSE(8.4 -8.4 0 0.05 0.05 1p 1 1)
SYMATTR InstName V2
SYMBOL res -1104 256 R0
SYMATTR InstName R3
SYMATTR Value 56k
SYMBOL res -1104 -176 R0
SYMATTR InstName R4
SYMATTR Value 5.1Meg
SYMBOL res -1104 -48 R0
SYMATTR InstName R5
SYMATTR Value 3Meg
SYMBOL res 128 0 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL References\\ADR5040 -1088 432 R0
SYMATTR InstName U2
SYMBOL voltage -1200 -512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -336 160 Left 2
SYMATTR Value PULSE(12.6 -12.6 0 0.05 0.05 1p 1 1)
SYMATTR InstName V4
SYMBOL res -1104 -528 R0
SYMATTR InstName R6
SYMATTR Value 30k
SYMBOL res -1104 -400 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL schottky 16 784 R0
SYMATTR InstName D1
SYMATTR Value RB531VM-30
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL pmos 224 848 M180
SYMATTR InstName M2
SYMATTR Value Si2301CDS
SYMATTR Prefix x
SYMATTR SpiceModel Si2301CDS
SYMBOL res -96 784 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cap 400 896 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL PowerProducts\\LT1084-3.3 752 896 R0
SYMATTR InstName U3
SYMBOL res 1120 912 R0
SYMATTR InstName R8
SYMATTR Value 20
SYMBOL pmos -64 -400 M270
SYMATTR InstName M3
SYMATTR Value Si2301CDS
SYMATTR Prefix x
SYMATTR SpiceModel Si2301CDS
SYMBOL schottky -224 -368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value RB531VM-30
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -160 -384 R0
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL voltage -192 768 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VUSB
SYMATTR Value 0
TEXT -360 424 Left 2 !.tran 0 .1 0 .05
TEXT 544 240 Left 2 !.lib "C:\\Users\\thean\\OneDrive - Monash University\\Documents\\HPR\\Laika-Flight-Computer\\V3\\Simulations\\SPICE_MODELS\\si2301cds_ps_rc Rev B.lib"
TEXT 544 272 Left 2 !.lib "C:\\Users\\thean\\OneDrive - Monash University\\Documents\\HPR\\Laika-Flight-Computer\\V3\\Simulations\\SPICE_MODELS\\lm393.lib"
TEXT 544 304 Left 2 !.lib "C:\\Users\\thean\\OneDrive - Monash University\\Documents\\HPR\\Laika-Flight-Computer\\V3\\Simulations\\SPICE_MODELS\\ZMM5V6.lib"
TEXT 544 336 Left 2 !.lib "C:\\Users\\thean\\OneDrive - Monash University\\Documents\\HPR\\Laika-Flight-Computer\\V3\\Simulations\\SPICE_MODELS\\TL071.lib"
TEXT 544 208 Left 2 !.lib "C:\\Users\\thean\\OneDrive - Monash University\\Documents\\HPR\\Laika-Flight-Computer\\V3\\Simulations\\SPICE_MODELS\\LM4041_NE1P2_TRANS.lib"
TEXT -616 -224 Left 2 ;Select between 3s and 2s \nto simulate different batteries
TEXT -312 -600 Left 2 ;Reverse polarity protection
TEXT -32 -104 Left 2 ;Low voltage cutoff
TEXT -80 648 Left 2 ;USB power selector
